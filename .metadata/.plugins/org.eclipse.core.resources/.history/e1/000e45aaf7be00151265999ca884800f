package hcdb.address;

import java.sql.*;

import hcdb.address.model.Card;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;

public class Database {
	
	public static String URL = "jdbc:mysql://localhost:3306/hcdatabase";
	public static String USERNAME = "java";
	public static String PASSWORD = "password";
	public static Connection conn;
	
	public static ObservableList<Card> selectAllCards() {
		
		ObservableList<Card> cards = FXCollections.observableArrayList();
		//cards.add(new Card("Sidney Crosby", "Upper Deck", "Young Guns", 2005, 200,true,"autograph"));
		
		System.out.println("Connecting database...");
		try {
			conn = DriverManager.getConnection(URL, USERNAME, PASSWORD);
		    System.out.println("Database connected!");
		    
			Statement stmt = conn.createStatement();
		    ResultSet rs = stmt.executeQuery("SELECT * FROM cards");
			while (rs.next()) {
		    	String id = rs.getString("player_name");
		    	System.out.println(id);
		    }
			
			// use the data from resultSet
			// then
		    //stmt.close();
		} catch (SQLException e) {
		    throw new IllegalStateException("Cannot connect the database!", e);
		}
		conn.close();
		return cards;
	}


}
